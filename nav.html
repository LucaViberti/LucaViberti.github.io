<header>
  <div class="site-info">
    <h1 class="site-title">TopHeroes Guide</h1>
  </div>

  <nav class="th-nav">
    <ul class="menu">
      <li><a href="index.html">Home</a></li>

      <!-- HEROES -->
      <li class="has-sub">
        <a href="heroes.html">Heroes</a>
        <ul class="dropdown">
          <li class="close-btn">
            <button aria-label="Close menu"
              onclick="(function(btn){var ul=btn.closest('ul'); if(ul){ul.style.display='none'; var p=ul.parentElement; if(p){p.classList.remove('open');}}})(this)">✕ Close</button>
          </li>
          <li><a href="heroes.html">Overview</a></li>
          <li><a href="league.html">League</a></li>
          <li><a href="nature.html">Nature</a></li>
          <li><a href="horde.html">Horde</a></li>

          <!-- Gear con mini-flyout affianco -->
          <li class="has-flyout">
            <a href="gear.html" class="flyout-link" aria-haspopup="true" aria-expanded="false">
              <span>Gear</span>
              <span class="chev" aria-hidden="true">▾</span>
            </a>
            <ul class="flyout" aria-label="Gear submenu">
              <li class="close-btn">
                <button aria-label="Close submenu"
                  onclick="(function(btn){var ul=btn.closest('ul'); if(ul){ul.style.display='none'; var p=ul.parentElement; if(p){p.classList.remove('open');}}})(this)">✕ Close</button>
              </li>
              <li><a href="exclusive-gear.html">Exclusive Gear</a></li>
            </ul>
          </li>

          <li><a href="pets.html">Pets</a></li>
        </ul>
      </li>

      <!-- BUILDING -->
      <li class="has-sub">
        <a href="building.html">Building</a>
        <ul class="dropdown">
          <li class="close-btn">
            <button aria-label="Close menu"
              onclick="(function(btn){var ul=btn.closest('ul'); if(ul){ul.style.display='none'; var p=ul.parentElement; if(p){p.classList.remove('open');}}})(this)">✕ Close</button>
          </li>
          <li><a href="building.html">Overview</a></li>
          <li><a href="villagers.html">Villagers</a></li>
          <li><a href="lord-gear.html">Lord Gear & Relics</a></li>
        </ul>
      </li>

      <li><a href="research.html">Research</a></li>
      <li><a href="adventure.html">Adventure</a></li>

      <!-- EVENTS -->
      <li class="has-sub">
        <a href="events.html">Events</a>
        <ul class="dropdown">
          <li class="close-btn">
            <button aria-label="Close menu"
              onclick="(function(btn){var ul=btn.closest('ul'); if(ul){ul.style.display='none'; var p=ul.parentElement; if(p){p.classList.remove('open');}}})(this)">✕ Close</button>
          </li>
          <li><a href="guild-race.html">Guild Race</a></li>
          <li><a href="arms-race.html">Arms Race</a></li>
          <li><a href="kingdom.html">KvK</a></li>
          <li><a href="guildboss.html">Guild Boss</a></li>
        </ul>
      </li>

      <li><a href="beginners.html">Beginners Guide</a></li>
      <li><a href="shop.html">SHOP</a></li>
      <li><a href="tips.html">Tips & More</a></li>
      <li><a href="https://ko-fi.com/landaadvice" target="_blank" rel="noopener noreferrer">Support Us</a></li>
    </ul>
  </nav>
</header>

<style>
  /* Titolo elegante e responsivo */
  .site-title{
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    font-weight:700;
    background: linear-gradient(90deg,#29abe0,#7dd3fc);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    text-align:center;margin:0;padding:8px 0;
    text-shadow:0 2px 4px rgba(0,0,0,0.3);
  }

  /* Base nav */
  .th-nav .menu{list-style:none;margin:0;padding:0;display:flex;justify-content:center;flex-wrap:wrap;gap:20px}
  .th-nav .menu > li{position:relative}
  .th-nav a{
    color:#ccd0dd;text-decoration:none;text-transform:uppercase;font-weight:500;letter-spacing:.05em;
    padding:12px 6px;border-bottom:2px solid transparent;transition:color .3s,border-bottom-color .3s;
    font-size:.85rem;
  }
  .th-nav a:hover{color:#fff;border-bottom-color:#29abe0}

  /* Dropdown principale */
  .th-nav .dropdown{
    display:none;position:absolute;top:100%;left:50%;transform:translateX(-50%);
    background:#1c2133;border:1px solid #2b2f3a;border-radius:10px;padding:8px 0;min-width:220px;z-index:1000;
    box-shadow:0 10px 24px rgba(0,0,0,.35)
  }
  .th-nav .dropdown li a{
    display:block;padding:10px 14px;color:#d1d1d6;text-transform:none;letter-spacing:0;border-bottom:0;white-space:nowrap;
    border-radius:8px;margin:2px 6px
  }
  .th-nav .dropdown li a:hover{background:#25314d;color:#fff}

  /* Desktop: apri su hover (rimane veloce) */
  @media (hover:hover){ .th-nav .has-sub:hover > .dropdown{display:block} }

  /* Flyout Exclusive Gear – pulito e leggibile */
  .th-nav .has-flyout{position:relative}
  .th-nav .flyout-link{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:10px 12px}
  .th-nav .chev{display:inline-block;transition:transform .2s ease}

  .th-nav .flyout{
    display:none;position:absolute;top:0;left:100%;margin-left:10px;
    background:#101525;border:1px solid #2b2f3a;border-radius:12px;min-width:200px;padding:6px 0;z-index:1100;
    box-shadow:0 14px 34px rgba(0,0,0,.45);
  }
  /* Desktop: apri flyout con hover sulla riga Gear */
  @media (hover:hover){
    .th-nav .has-flyout:hover > .flyout{display:block}
    .th-nav .has-flyout:hover .chev{transform:rotate(180deg)}
  }
  /* Mobile: il flyout scende sotto centrato (usiamo display:block via click sul close/open naturale del browser) */
  @media (max-width:640px){
    .th-nav .flyout{left:50%; top:100%; margin:10px 0 0 0; transform:translateX(-50%); min-width:220px}
  }
  .th-nav .flyout li a{display:block;padding:10px 14px;color:#e5e7eb;text-transform:none;letter-spacing:0;border-radius:8px;margin:2px 8px}
  .th-nav .flyout li a:hover{background:#1f2a44;color:#fff}

  /* Pulsante di chiusura sobrio */
  .close-btn{ text-align:right; padding:4px 8px 2px; }
  .close-btn button{
    background:none;border:0;color:#aab2c5;cursor:pointer;font-size:.8rem;padding:6px 8px;border-radius:8px;
  }
  .close-btn button:hover{ color:#fff; background:#25314d; }

  /* Dimensione coerente voci submenu */
  .th-nav .dropdown li a, .th-nav .flyout li a { font-size: .85rem; }
</style>
